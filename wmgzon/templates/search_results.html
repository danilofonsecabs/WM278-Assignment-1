{% extends 'base.html' %}

{% block content %}
    <h1>Search Results</h1>
    {% if results %}
    <div class="col-md-10">

      <div class="row">

            {% for product in results %}
                <div class="col-md-4 mb-3">
                    <div class="card datacard">

                      <div class="card-body">
                        <img src="static/images/{{ product['image_filename'] }}" class="card-img-top product-image" alt="product">
                        <h5 class="card-title">{{ product['title'] }}</h5>
                        <p class="card-text">{{ product['description'] }} <br>Â£{{ product['price'] }} <br> product by: {{ product['username'] }}</p>
                        <a href="{{ url_for('grocery.view_product', product_id=product['id']) }}" class="btn btn-primary">View Product</a>
                      </div>
                    </div>
                </div>
                {% if loop.index % 3 == 0 %}
                    </div><div class="row">
                {% endif %}
            {% endfor %}
     </div> <!-- End of Product Cards Row -->
    </div>
    {% else %}
        <p>No results found.</p>
    {% endif %}
{% endblock %}